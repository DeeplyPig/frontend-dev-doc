# 第6章 流的破坏与保护 #

## 魔鬼属性`float` ##

### `float`的本质与特性 ###

**`float`浮动属性让父元素高度坍塌的原因就是为了实现文字环绕效果**。

`float`自身特性：

- 包裹性；
- 块状化并格式化上下文；
- 破坏文档流；
- 没有任何`margin`合并。

包裹性，由**包裹**和**自适应性**两部分组成。

1. **包裹**。浮动元素父元素宽度`200px`，子元素是一个宽度`128px`宽度的图片，则此时浮动元素宽度表现为**包裹**，就是里面图片的宽度`128px`。

![](https://i.imgur.com/QCNBDxs.jpg)

2. **自适应性**。

**块状化**，元素一旦`float`的属性值不为`none`，则其`display`计算值为`block`或`table`。**`text-align`对浮动元素无效。**

| 设定值 | 计算值 |
| ----- | ------- |
| `inline` | `block` |
| `inline-block` | `block` |
| `inline-table` | `table` |
| `table-row` | `block` |
| `table-row-group` | `block` |
| `table-column` | `block` |
| `table-columngroup` | `block` |
| `table-cell` | `block` |
| `table-caption` | `block` |
| `table-header-group` | `block` |
| `table-footer-group` | `block` |

`float`属性与`display`属性值转换关系

## `float`的作用机制 ##

**文字环绕效果**是由两个特性（**父级高度坍塌**和**行框盒子区域限制**）共同作用的结果，定高只能解决**父级元素高度坍塌**带来的影响，但是对**行框盒子区域限制**没有任何效果，结果导致的问题是浮动元素垂直区域一旦超出高度范围，或下面元素`margin-top`负值上偏移，就很容易使后面的元素发生“环绕效果”。

## `float`更深入的作用机制 ##

**浮动元素和内联元素在一行显示。**

- **浮动锚点**是`float`元素所在的**流**中的一个点，这个点本身并不浮动。其作用是产生**行框盒子**，因为**浮动锚点**表现如同一个空的内联元素，有内联元自然就有**行框盒子**。
- **浮动参考**指的是浮动元素对齐参考的实体。

`float`元素的**浮动参考**是**行框盒子**，也就是`float`元素在当前**行框盒子**内定位。

## `float`与流体布局 ##

<p data-height="265" data-theme-id="0" data-slug-hash="YjrGyL" data-default-tab="css,result" data-user="whjin" data-pen-title="中间内容居中的左中右布局" class="codepen">See the Pen <a href="https://codepen.io/whjin/pen/YjrGyL/">中间内容居中的左中右布局</a> by whjin (<a href="https://codepen.io/whjin">@whjin</a>) on <a href="https://codepen.io">CodePen</a>.</p>
<script async src="https://static.codepen.io/assets/embed/ei.js"></script>

