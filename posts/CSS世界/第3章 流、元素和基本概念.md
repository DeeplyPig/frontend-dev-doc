# 第3章 流、元素和基本概念 #

## 块级元素 ##

`li`元素默认的`display`值是`list-item`，和`table`都是块级元素，在一个水平流上只能单独显示一个元素，多个则换行显示。可以配合`clear`属性来清除浮动带来的影响。

    .clear:after {
        content: '';
        display: table; /*也可以是block，或是list-item*/
        clear: both;
    }

实际开发中，不推荐使用`list-item`，一是会出现项目符号，而是IE不支持伪元素`:after`。

### 为什么`list-item`元素会出现项目符号 ###

list-item元素出现项目符号是因为生成了一个附加盒子（**标记盒子**），专门用来放圆点、数字这些项目符号。IE下伪元素不支持`list-item`或许就是无法创建**标记盒子**导致的。

### `display: inline-table;`的盒子是怎样组成的 ###

外面内联，里面`table`，元素和文字在一行显示。

### `width/height`作用在哪个盒子上 ###

`width/height`作用在**里面的盒子**，也就是**容器盒子**。

## `width/height`作用的具体细节 ##

块级元素的流体特性主要体现在水平方向上。

### 深藏不漏的`width:auto` ###

`width`的默认值是`auto`，它至少包含4中不同的宽度表现：

1. **充分利用可用空间**。元素默认宽度是100%父级容器。
2. **收缩与包裹**。典型代表是浮动、绝对定位和`inline-block`元素或`table`元素。
3. **收缩到最小**。这个最容易出现在`table-layout`为`auto`表格中。
4. **超出容器限制**。除非有明确的`width`设置，否则表格`min-content`的尺寸都不会主动超出父容器的宽度。特殊情况：内容很长的英文和数字，或者内联元素设置为`white-space:nowrap;`。这种情况称为`max-content`。

**1. 外部尺寸与流体特性**

1. 正常流宽度。**无宽度，无图片，无浮动。**充分利用浏览器自身的行为特性来完成页面布局。表现为“外部尺寸”的块级元素一旦设置了宽度就会丢失流动性。
2. 格式化宽度。仅出现在“绝对定位模型”中，在默认情况下，绝对定位元素的宽度表现为“包裹性”，宽度由内部尺寸决定。对于**非替代元素**，当`left/top`或`top/bottom`对立方位的属性值同时存在的时候，元素的宽度表现为**格式化宽度**，其宽度大小相对于最近的具有定位特性的祖先元素计算。格式化宽度具有完全的流体性，也就是`margin/padding/border/content`区域会自动分配水平（垂直）空间。

**2. 内部尺寸与流体特性**

内部尺寸有3种表现特性：

1. 包裹性。对于一个元素，如果其`display:inline-block;`，那么里面的内容宽度不会超过容器。
    - 按钮是CSS中最具有代表性的`inline-block`元素，也是包裹性最好的实例。具体表现为：**按钮文字越多则宽度越宽（内部尺寸特性），如果文字太多则会在容器的宽度处自动换行（自适应特性）。**
    - `input`标签按钮，默认`white-space:pre;`不会换行；需要将`pre`值重置为默认的`normal`。

**包裹性在实际开发中的作用**

> 需求：页面某个模块的文字内容是动态的，可长可短。文字少的时候居中显示，文字超过一行的时候居左显示。该如何实现？

    .box {
        text-align: center;
    }
    
    .content {
        display: inline-block;
        text-align: left;
    }
    
除了`inline-block`元素，绝对定位和浮动元素都具有包裹性，均有类似的智能宽度行为。

2. 首选最小宽度。元素最适合的最小宽度。具体表现规则：
    - 东亚文字最小宽度为每个汉字的宽度。
    - 西方文字最小宽度由特定的连续的英文字符单元决定。英文字符一般会终止于空格、短横线、问好以及其他非英文字符。
    - 要让英文字符的每个字符都用最小宽度单元，可以使用`word-break:break-all;`
    - 图片的替代元素的最小宽度是该元素内容本身的宽度。

3. 最大宽度。最大连续内联盒子的宽度。

### `width`值作用的细节 ###


