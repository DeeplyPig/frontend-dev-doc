# ES6 #

- `Object.is()`与原来的比较操作符`===`、`==`的区别？

> `==`判断，会在比较时进行类型转换
> `===`判断（严格判断），比较时不进行隐式类型转换，类型不同就会返回`false`

> `Object.is()`在`===`判断的基础上特别处理了`NaN`、`-0`和`+0`，保证`-0`和`+0`不再相同，但`Object.is(NaN,NaN)`会返回`true`

- 如何进行页面重构？

> 网站重构：在不改变UI的情况下对网站进行优化，在扩展的同时保持一致的UI。
> 
> 对传统的网站来说，重构通常是：
> 1、表格`table`布局改为`div+css`
> 2、使网站前端兼容于现代浏览器
> 3、对于移动平台的优化
> 4、针对SEO进行优化
> 
> 深层次的网站重构应该考虑：
> 1、减少代码间的耦合
> 2、让代码保持弹性
> 3、严格按照规范编写代码
> 4、设计可扩展的API
> 5、代替旧有的框架、语言
> 6、增强用户体验
> 7、对速度的优化

> 1、压缩JS、CSS、`image`等前端资源（通常是由服务器来解决）
> 2、程序的性能优化（数据读写）
> 3、采用CDN来加速资源加载
> 4、对于JS DOM的优化
> 5、HTTP服务器的文件缓存

- 列举IE与其他浏览器不同的特性？

> 事件：触发事件的元素被认为是目标（`target`）。在IE中，目标包含在`event`对象的`SRCElement`属性；
> 
> 获取字符代码：如果按键代表一个字符（`shift`、`Ctrl`、`Alt`除外），IE的`keyCode`会返回字符代码`unicode`，DOM中按键的代码和字符是分离的，要获取字符代码，需要使用`charCode`属性；

> 阻止某个事件的默认行为：IE中阻止某个事件的默认行为，必须将`returnValue`属性设置为`false`，火狐浏览器中需要调用`preventDefault()`方法。

> 停止事件冒泡，IE中阻止事件进一步冒泡，需要设置`cancelBubble`为`true`，火狐中需要调用`stopPropagation()`。

- 解析一下优雅降级和渐进增强？

> 优雅降级：Web站点在所有新式浏览器中都能正常工作，如果用户使用的是旧式浏览器，则代码会针对旧版本的IE进行降级处理，使之在旧式浏览器上以某种形式降级体验而不至于完全不能使用。
> 例如：`border-shadow`
> 
> 渐进增强：从被所有浏览器支持的基本能工开始，逐步地添加那些只有新版本浏览器才支持的功能，向页面增加不影响基础浏览器的额外样式和功能。当浏览器支持时，它们会自定地呈现出来并发挥作用。
> 例如：默认使用`flash`上传，但如果浏览器支持HTML5的文件上传功能，则使用HTML5实现更好的体验。

- Web应用从服务器主动推送Data到客户端有哪些方式？

> HTML5提供的`WebSocket`
> 不可见的`iframe`
> `WebSocket`通过`flash`
> `XHR`长时间连接
> `XHR Multipart Streaming`
> `<script>`标签的长时间连接（可跨域）

- 谈一下Node的优点和缺点？

> **优点：**
> 因为Node是基于事件驱动和无阻塞的，所以非常适合处理并发请求；
> 因此构建在Node上的代理服务器相比其他技术实现（如Ruby）的服务器表现要好很多。
> 此外，与Node代理服务器交互的客户端代码是由JS语言编写，因此客户端和服务器端都用同一种语言编写。

> **缺点：**
> Node是一个相对新的开源项目，所以不太稳定，总是一直在变，而且缺少足够多的第三方库支持。

- 你使用过哪些前端性能优化的方法？

> 1、减少HTTP请求次数：`CSS Sprites`、`JS`、`CSS`源码压缩、控制图片大小；网页`Gzip`，CDN托管，`data`缓存，图片服务器
> 2、前端模板：JS+数据，减少由于HTML标签导致的带宽浪费，前端用变量保存AJAX请求结果，每次操作本地变量，不用请求，减少请求次数
> 3、用`innerHTML`代替DOM操作，减少DOM操作次数，优化JS性能
> 4、当需要设置的样式很多时，设置`className`而不是直接操作`style`
> 5、少用全局变量、缓存DOM节点查找的结果。减少IO读取操作。
> 6、避免使用`CSS`表达式，又称动态属性
> 7、图片预加载，将样式表放在顶部，将脚本放在底部，加上时间戳
> 8、避免在页面的主题布局中使用`table`，`table`要等其中的内容完全下载之后才会显示出来，显示比`div+css`布局慢。

> 对普通的网站有一个统一的思路，就是尽量向前端优化、减少数据库操作、减少磁盘IO读写。
> 向前端优化指的是，在不影响功能和体验的情况下，
> 能在浏览器执行的不在服务器端执行，
> 能在缓存服务器上直接返回的不要到应用服务器执行，
> 程序能直接取得的结果不要到外部取得，
> 本机内能取得的数据不要到远程取得，
> 内存能取到的不要到磁盘上取，
> 缓存中有得不要去数据库查询。
> 
> 减少数据库操作，指的是减少更新次数、缓存结果减少查询次数、将数据库执行的操作尽可能的让程序完成（例如`join`查询），
> 减少磁盘IO指尽量不适用文件系统作为缓存、减少读写文件次数等。

- HTTP状态码有哪些？分别代表什么？

> 简单版：
> `100`-`continue`：继续，一般在发送`post`请求时，已发送`http header`之后服务器端将返回此信息表示确认，之后发送具体参数信息。
> `200`-`OK`：正常返回信息
> `201`-`created`：请求成功并且服务器创建了新的资源
> `202`-`Accepted`：服务器已接受请求，但尚未处理
> 
> `301`-`Moved Permanently`：请求的网页已经永久移动到新的位置
> `302`-`Found`：临时性重定向
> `303`-`See Other`：临时性重定向，且总是使用`GET`请求新的`URI`
> `304`-`Not Modified`：自从上次请求后，请求的网页未修改过
> `400`-`Bad Request`：服务器无法理解请求的格式，客户端不应当尝试再次使用相同的内容发起请求
> 
> `401`-`Unauthorized`：请求未授权
> `403`-`Forbidden`：禁止访问
> `404`-`Not Found`：找不到如何与`URI`相匹配的资源

> `500`-`Internal Server Error`：最常见的服务器端错误
> `503`-`Server Unavailable`：服务器端暂时无法处理请求（可能是过载或维护）

> 完整版：
> `1**`（信息类）：表示接收到请求并且继续处理
> `100`——客户必须继续发出请求
> `101`——客户要求服务器根据请求转换HTML协议版本

> `2**`（响应成功）：表示动作被成功接收、理解和接受
> `200`——表明该请求被成功地完成，所请求的资源发送回客户端
> `201`——提示知道新文件的`URL`
> `202`——接受和处理、但处理未完成
> `203`——返回信息不确定或不完整
> `204`——请求收到，但返回信息为空
> `205`——服务器完成了请求，用户代理必须复位当前已经浏览过的文件
> `206`——服务器已经完成了部分用户的`GET`请求

> `3**`（重定向类）：为了完成指定的动作，必须接受进一步处理
> `300`——请求的资源可在多处得到
> `301`——本网页被永久性转移到另一个`URL`
> `302`——请求的网页被转移到一个新的地址，但客户访问仍继续通过原始`URL`地址，重定向，新的`URL`会在`response`中的`Location`中返回，浏览器将会使用新的`URL`发出新的`request`。
> `303`——建议客户访问其他`URL`或访问方式
> `304`——自从上次请求后，请求的网页未修改过，服务器返回此响应时，不会返回网页内容，代表上次的文档已经被缓存，还可以继续使用。
> `305`——请求的资源必须从服务器指定的地址得到
> `306`——前一版本HTTP中使用的代码，现行版本中不再使用
> `307`——申明请求的资源临时性删除

> `4**`（客户端错误类）：请求包含错误语法或不能正确执行
> `400`——客户端请求有语法错误，不能被服务器所理解
> 
> `401`——请求未经授权，这个状态码必须和`WWW-Authenticate`报头域一起使用
> HTTP `401.1`——未授权：登录失败
> HTTP `401.2`——未授权：服务器配置问题导致登录失败
> HTTP `401.3`——ACL 禁止访问资源
> HTTP `401.4`——未授权：授权被筛选器拒绝
> HTTP `401.5`——未授权：ISAPI或CGI授权失败
> 
> `402`——保留有效`ChargeTo`头响应
> 
> `403`——禁止访问，服务器收到请求，但是拒绝提供服务
> HTTP `403.1`——禁止访问：禁止可执行访问
> HTTP `403.2`——禁止访问：禁止读访问
> HTTP `403.3`——禁止访问：禁止写访问
> HTTP `403.4`——禁止访问：要求SSL
> HTTP `403.5`——禁止访问：要求SSL `128`
> HTTP `403.6`——禁止访问：IP地址被拒绝
> HTTP `403.7`——禁止访问：要求客户证书
> HTTP `403.8`——禁止访问：禁止站点访问
> HTTP `403.9`——禁止访问：连接的用户过多
> HTTP `403.10`——禁止访问：配置无效
> HTTP `403.11`——禁止访问：密码更改
> HTTP `403.12`——禁止访问：映射器拒绝访问
> HTTP `403.13`——禁止访问：客户证书已被吊销
> HTTP `403.15`——禁止访问：客户访问许可过多
> HTTP `403.16`——禁止访问：客户证书不可信或者无效
> HTTP `403.17`——禁止访问：客户证书已经到期或者尚未生效

> `404`——一个`404`错误表明可连接服务器，但服务器无法取得所请求的网页，请求资源不存在。
> `405`——用户在`Request-Line`字段定义的方法不予许
> `406`——根据用户发送的`Accept`头，请求资源不可访问
> `407`——类似`401`，用户必须首先在代理服务器上得到授权
> `408`——客户端没有在用户指定的时间内完成请求
> `409`——对当前资源状态，请求不能完成
> `410`——服务器上不再有此资源，且无进一步的参考地址
> `411`——服务器拒绝用户定义的`Content-Length`属性请求
> `412`——一个或多个请求头字段在当前请求中错误
> `413`——请求的资源大于服务器允许的大小
> `414`——请求的资源URL长于服务器允许的长度
> `415`——请求的资源不支持请求项目格式
> `416`——请求中包含`Range`请求头字段，在当前请求资源范围内没有`Range`指示值，请求也不包含`If-Rane`请求头字段
> `417`——服务器不满足请求`Expect`头字段指定的期望值，如果是代理服务器，可能是下一级服务器不能满足请求。

> `5**`（服务端错误类）：服务器不能正确执行一个正确的请求
> HTTP `500`——服务器遇到错误，无法完成请求
> HTTP `500.100`——内部服务器错误——ASP错误
> HTTP `500.11`——服务器关闭
> HTTP `500.12`——应用程序重新启动
> HTTP `500.13`——服务器太忙
> HTTP `500.14`——应用程序无效
> HTTP `500.15`——不允许请求`global.asa`
> 
> Error `501`——未实现
> 
> HTTP `502`——网关错误
> HTTP `503`——由于超载或停机维护，服务器目前无法使用，一段时间后可能恢复正常

- 一个页面从输入URL到页面加载显示完成，这个过程发生了什么？（流程越详细越好）

> 从URL规范、HTTP协议、DNS、CDN、数据库查询到浏览器解析、CSS规则构建、`layout`、`paint`、`onload/domready`、JS执行、JS API绑定等

> 1、浏览器会开启一个线程来处理这个请求，对URL分析判断如果是HTTP协议就按照Web方式来处理；
> 2、调用浏览器内核中的对应方法，比如`webview` 中的`loadUrl`方法；
> 3、通过DNS解析获取网址的IP地址，设置UA等信息发出第二个GET请求；
> 4、记性HTTP协议会话，客户端发送报头（请求报头）；
> 5、进入到web服务器上的Web Server，如Accept、Tomcat、Node.js等服务器；
> 6、进入部署好的后端应用，如PHP、Java、JavaScript、python等，找到对应的请求处理；
> 7、处理结束反馈报头，此处如果浏览器访问过，缓存上有对应资源，会与服务器最后修改时间对比，一致则返回`304`；
> 8、浏览器开始下载HTML文档（响应报头，状态码`200`），同时是使用缓存；
> 9、文档树建立，根据标记请求所需要指定MIME类型的文件（比如css、js），同时设置了`cookie`；
> 10、页面开始渲染DOM，JS根据DOM API操作DOM，执行事件绑定等，页面显示完成。

> 浏览器把请求的URL交给DNS域名解析，找到真实IP，向服务器发起请求；
> 服务器交给后台处理完成后返回数据，浏览器接收文件；
> 浏览器对加载到的资源进行语法解析，建立相应的内部数据结构；
> 载入解析好的资源文件，渲染页面显示内容。